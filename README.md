# No TTS Player for Anki

A simple Anki add-on that silences all Text-to-Speech (TTS) playback by registering a dummy player.

[![Version](https://img.shields.io/badge/version-v1.0-blue)](https://github.com/voothi/20250902105308-anki-no-tts) [![License: GNU AGPLv3](https://img.shields.io/badge/License-AGPL%20v3-blue.svg)](http://www.gnu.org/licenses/agpl.html)

This utility provides a simple and robust way to disable all TTS audio in Anki. It is perfect for situations where you need to study without sound or want to prevent the "No TTS player installed" pop-up from appearing.

## Table of Contents

- [No TTS Player for Anki](#no-tts-player-for-anki)
  - [Table of Contents](#table-of-contents)
  - [Features](#features)
  - [How It Works](#how-it-works)
  - [Installation](#installation)
  - [Use Cases](#use-cases)
  - [Related Projects](#related-projects)
  - [License](#license)

## Features

-   **Complete Silence**: Effectively mutes all TTS audio generated by `{{tts...}}` tags in your card templates.
-   **No Configuration**: Works out of the box. Enable the add-on to silence TTS, disable it to restore normal functionality.
-   **Error Prevention**: Acts as a "catch-all" TTS player, preventing Anki from showing an error if no other TTS add-on is installed.
-   **Lightweight**: A minimal, single-file add-on with no performance impact.

[Back to Top](#table-of-contents)

## How It Works

This add-on does not block or intercept TTS requests. Instead, it registers a new, silent TTS player called `DummyPlayer`.

1.  When Anki starts, this player tells the audio system that it is available and supports a wide range of languages.
2.  When a card requires TTS playback, Anki sends the text and language information to the `DummyPlayer`.
3.  The player's `_play` method receives the request but is intentionally empty. It simply does nothing and returns immediately.

Because Anki sees that a registered player has "handled" the request, it considers the job done. No sound is produced, and no errors are shown. To restore sound, you simply disable this add-on so another TTS player can handle the requests.

[Back to Top](#table-of-contents)

## Installation

1.  **Get the Add-on Code**:
    -   Clone this repository or download the `__init__.py` and `manifest.json` files.

2.  **Install in Anki**:
    -   Open your Anki `addons21` folder (you can find it via `Tools -> Add-ons -> View Files`).
    -   Create a new folder inside `addons21` and name it `no_tts` (or any other descriptive name).
    -   Place the `__init__.py` and `manifest.json` files inside this new folder.

3.  **Restart Anki**. TTS playback will now be silenced.

[Back to Top](#table-of-contents)

## Use Cases

-   **Quiet Environments**: Study at a library, office, or on public transport without audio.
-   **Focused Reading**: Practice reading and internal pronunciation without the assistance of audio cues.
-   **System Setup**: Use this add-on to prevent TTS error messages on a clean Anki installation without any other TTS add-ons.
-   **Quick Toggling**: Simply enable or disable the add-on in the Add-ons menu to turn TTS on or off between study sessions (requires an Anki restart).

[Back to Top](#table-of-contents)

## Related Projects

-   [**gTTS Player with Piper Fallback for Anki**](https://github.com/voothi/20250421115831-anki-gtts-player): An alternative add-on for users who want *more powerful* TTS instead of disabled TTS. It provides both online and offline playback capabilities.

[Back to Top](#table-of-contents)

## License

[GNU AGPL, version 3 or later](./__init__.py)

[Back to Top](#table-of-contents)